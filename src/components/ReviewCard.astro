---
import type { Review } from "../types/blog";

export interface Props extends Review {
  href?: string;
  size?: "small" | "medium" | "large";
}

const {
  properties: {
    name: title,
    // image,
    rating,
    cuisineType: cuisine,
    suburb: location,
    priceRange: price,
  },
  href = "#",
  size = "medium",
} = Astro.props;

const cardClass = `card card--${size}`;
---

<article class={cardClass}>
  <!-- {
    image && (
      <div
        class="card__image"
        style="height: 200px; background-image: url('{image}'); background-size: cover; background-position: center;"
      />
    )
  } -->

  <div class="card__body">
    <h3 class="card__title">
      {
        href ? (
          <a href={href} class="text-gray-900" style="text-decoration: none;">
            {title}
          </a>
        ) : (
          title
        )
      }
    </h3>

    {
      rating && (
        <div class="rating mb-4">
          <span class="text-sm text-gray-600">Rating: </span>
          <span class="text-primary font-semibold">{rating}/10</span>
        </div>
      )
    }

    <div class="card__meta flex flex--column flex--gap-2">
      {
        cuisine && (
          <div class="flex flex--gap-2">
            <span class="text-sm text-gray-600">Cuisine:</span>
            <span class="text-sm font-medium">{cuisine}</span>
          </div>
        )
      }

      {
        location && (
          <div class="flex flex--gap-2">
            <span class="text-sm text-gray-600">Location:</span>
            <span class="text-sm font-medium">{location}</span>
          </div>
        )
      }

      {
        price && (
          <div class="flex flex--gap-2">
            <span class="text-sm text-gray-600">Price:</span>
            <span class="text-sm font-medium">{price}</span>
          </div>
        )
      }
    </div>
  </div>
</article>

<style>
  .card__image {
    border-radius: var(--radius-lg) var(--radius-lg) 0 0;
  }

  .card__title {
    margin-bottom: var(--spacing-3);
    font-size: var(--font-size-lg);
  }

  .rating {
    display: flex;
    align-items: center;
    gap: var(--spacing-2);
  }

  .card--large .card__title {
    font-size: var(--font-size-xl);
  }

  .card--small .card__title {
    font-size: var(--font-size-base);
  }
</style>
